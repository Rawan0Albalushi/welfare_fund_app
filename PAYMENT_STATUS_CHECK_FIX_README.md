# ุฅุตูุงุญ ุงูุชุญูู ูู ุญุงูุฉ ุงูุฏูุน - ุงุณุชุฎุฏุงู session_id

## ๐ ููุฎุต ุงููุดููุฉ

ุจุนุฏ ุงูุฏูุน ุงููุงุฌุญุ ูุงู ุงูุชุทุจูู ูุธูุฑ ุฎุทุฃ "Session ID is required" ูุฃู ุงูุชุทุจูู ูุงู ูุณุชุฎุฏู ุงูููุทุฉ ุงูููุงุฆูุฉ ุงูุฎุงุทุฆุฉ ููุชุญูู ูู ุญุงูุฉ ุงูุฏูุน.

## ๐ ุงููุดููุฉ

### ุงูููุทุฉ ุงูููุงุฆูุฉ ุงูุฎุงุทุฆุฉ:
```dart
// ูุจู ุงูุฅุตูุงุญ - ุฎุทุฃ
Uri.parse('$_baseUrl/payments/status/$sessionId')
```

### ุงููุชูุฌุฉ:
```
GET http://localhost:8000/api/v1/payments/status/{sessionId}
// ูุณุจุจ ุฎุทุฃ 404 ุฃู "Session ID is required"
```

## โ ุงูุญู

### ุงูููุทุฉ ุงูููุงุฆูุฉ ุงูุตุญูุญุฉ:
```dart
// ุจุนุฏ ุงูุฅุตูุงุญ - ุตุญูุญ
Uri.parse('$_baseUrl/payments?session_id=$sessionId')
```

### ุงููุชูุฌุฉ:
```
GET http://localhost:8000/api/v1/payments?session_id={sessionId}
// ูุนูู ุจุดูู ุตุญูุญ
```

## ๐ง ุงููููุงุช ุงููุญุฏุซุฉ

### 1. `lib/services/payment_service.dart`

#### ุชุญุฏูุซ ุฏุงูุฉ checkPaymentStatus
```dart
// ูุจู ุงูุฅุตูุงุญ
final response = await http.get(
  Uri.parse('$_baseUrl/payments/status/$sessionId'),
  headers: headers,
);

// ุจุนุฏ ุงูุฅุตูุงุญ
final response = await http.get(
  Uri.parse('$_baseUrl/payments?session_id=$sessionId'),
  headers: headers,
);
```

### 2. `lib/services/donation_service.dart`

#### ุชุญุฏูุซ ุฏุงูุฉ checkPaymentStatus
```dart
// ูุจู ุงูุฅุตูุงุญ
/// GET /api/v1/payments/status/{sessionId}
final response = await http.get(
  Uri.parse('$_baseUrl/payments/status/$sessionId'),
  headers: headers,
);

// ุจุนุฏ ุงูุฅุตูุงุญ
/// GET /api/v1/payments?session_id={sessionId}
final response = await http.get(
  Uri.parse('$_baseUrl/payments?session_id=$sessionId'),
  headers: headers,
);
```

## ๐ ุงูููุงุท ุงูููุงุฆูุฉ ุงููุญุฏุซุฉ

### ุงูุชุญูู ูู ุญุงูุฉ ุงูุฏูุน
- **ูุจู ุงูุฅุตูุงุญ:** `GET /api/v1/payments/status/{sessionId}` โ
- **ุจุนุฏ ุงูุฅุตูุงุญ:** `GET /api/v1/payments?session_id={sessionId}` โ

### ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู
```bash
# ุตุญูุญ ุงูุขู
curl -X GET "http://localhost:8000/api/v1/payments?session_id=test_session_123"
```

## ๐ฏ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

ุจุนุฏ ูุฐุง ุงูุฅุตูุงุญ:

1. **โ ุงูุชุญูู ูู ุญุงูุฉ ุงูุฏูุน:** ุณูุนูู ุงูุชุญูู ูู ุญุงูุฉ ุงูุฏูุน ุจุดูู ุตุญูุญ
2. **โ ุนุฏู ุธููุฑ ุฎุทุฃ:** ูู ุชุธูุฑ ุฑุณุงูุฉ "Session ID is required"
3. **โ ูุนุงูุฌุฉ ุงููุฌุงุญ:** ุจุนุฏ ุงูุฏูุน ุงููุงุฌุญุ ุณูุชู ุงูุชุญูู ูู ุงูุญุงูุฉ ุจุดูู ุตุญูุญ
4. **โ ุงูุงูุชูุงู ูุตูุญุฉ ุงููุฌุงุญ:** ุณูุชู ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ ุงููุฌุงุญ ุงูุตุญูุญุฉ

## ๐ ุชุฏูู ุงูุนูู ุงูุตุญูุญ

1. **ุฅูุดุงุก ุฌูุณุฉ ุงูุฏูุน:** `POST /api/v1/payments/create`
2. **ูุชุญ ุตูุญุฉ ุงูุฏูุน:** WebView ูุน Thawani
3. **ุจุนุฏ ุงูุฏูุน ุงููุงุฌุญ:** ุงูุชูุฌูู ุฅูู `http://localhost:8000/api/v1/payments/success`
4. **ุงูุชุญูู ูู ุงูุญุงูุฉ:** `GET /api/v1/payments?session_id={sessionId}` โ
5. **ุงูุงูุชูุงู ูุตูุญุฉ ุงููุฌุงุญ:** ุนุฑุถ ุตูุญุฉ ูุฌุงุญ ุงูุชุจุฑุน

## ๐ ููุงุญุธุงุช ูููุฉ

- **ุงูุฎุงุฏู ูุชููุน:** `session_id` ููุนุงูู query string
- **ุงูุชูุณูู ุงูุตุญูุญ:** `?session_id=value` ูููุณ `/status/value`
- **ุงูุชูุงูู:** ูุฐุง ูุชูุงูู ูุน API ุงูุฌุฏูุฏ ูู ุงูุฎุงุฏู

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

โ **ุชู ุฅุตูุงุญ ุงูุชุญูู ูู ุญุงูุฉ ุงูุฏูุน**
โ **ูู ุชุธูุฑ ุฑุณุงูุฉ "Session ID is required"**
โ **ุณูุชู ุงูุงูุชูุงู ูุตูุญุฉ ุงููุฌุงุญ ุจุดูู ุตุญูุญ**
โ **ุนูููุฉ ุงูุฏูุน ููุชููุฉ ุจูุฌุงุญ!**

---
**ุชุงุฑูุฎ ุงูุฅุตูุงุญ:** $(date)
**ุงูุญุงูุฉ:** โ ููุชูู
