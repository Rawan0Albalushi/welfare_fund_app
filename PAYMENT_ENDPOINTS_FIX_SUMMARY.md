# ุฅุตูุงุญ ูุดููุฉ ุงูุฏูุน - Payment Endpoints Fix

## โ **ุชู ุญู ุงููุดููุฉ**

ุงููุดููุฉ ูุงูุช ูู URLs ุงูู API. ุงูุฎุงุฏู ูุณุชุฎุฏู endpoints ูุฎุชููุฉ ูููุตุงุฏูุฉ ูุงูุฏูุน.

## ๐ **ุงููุดููุฉ ุงูููุชุดูุฉ**

### **URLs ุงูุตุญูุญุฉ ูู ุงูุฎุงุฏู:**
- **ุงููุตุงุฏูุฉ:** `/api/auth/*` (ุจุฏูู v1)
- **ุงูุฏูุน:** `/api/v1/payments/*` (ูุน v1)

### **ุงููุดููุฉ ุงูุณุงุจูุฉ:**
- ุงูุชุทุจูู ูุงู ูุณุชุฎุฏู `/api/` ูุฌููุน ุงูุฎุฏูุงุช
- ูุฐุง ุชุณุจุจ ูู ุฎุทุฃ 404 ูู payment endpoints

## ๐๏ธ **ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ**

### **1. API Client Service**
**File:** `lib/services/api_client.dart`
```dart
// ุชู ุชุญุฏูุซู ุฅูู
const baseUrl = 'http://192.168.1.101:8000/api/v1';
```

### **2. Authentication Service**
**File:** `lib/services/auth_service.dart`
```dart
// ุชู ุชุญุฏูุซู ุฅูู
const baseUrl = 'http://192.168.1.101:8000/api';
```

### **3. Payment Service**
**File:** `lib/services/payment_service.dart`
```dart
// ุชู ุชุญุฏูุซู ุฅูู
static const String _baseUrl = 'http://192.168.1.101:8000/api/v1';
```

### **4. Donation Service**
**File:** `lib/services/donation_service.dart`
```dart
// ุชู ุชุญุฏูุซู ุฅูู
return 'http://192.168.1.101:8000/api/v1';
```

## โ **Endpoints ุงููุฎุชุจุฑุฉ**

### **ุงููุตุงุฏูุฉ (ุชุนูู):**
- โ `POST /api/auth/login` - ูุนูู ุจุดูู ุตุญูุญ
- โ `GET /api/auth/me` - ูุนูู ูุน token
- โ `POST /api/auth/logout` - ูุนูู ูุน token

### **ุงูุฏูุน (ุชุนูู):**
- โ `POST /api/v1/payments/create` - ููุฌูุฏ ููุณุชุฌูุจ (422 = ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉุ ูููุณ ุฎุทุฃ ูู endpoint)
- โ `GET /api/v1/payments/status/{session_id}` - ูุชุงุญ
- โ `GET /api/v1/payments` - ูุชุงุญ
- โ `GET /api/v1/payments/success` - ูุชุงุญ
- โ `GET /api/v1/payments/cancel` - ูุชุงุญ
- โ `POST /api/v1/payments/webhook/thawani` - ูุชุงุญ
- โ `POST /webhooks/thawani` - ูุชุงุญ

## ๐ฏ **ุงููุชูุฌุฉ**

ุงูุขู ุงูุชุทุจูู ูุฌุจ ุฃู ูุนูู ุจุดูู ุตุญูุญ:

1. **ุงููุตุงุฏูุฉ:** ุชุณุชุฎุฏู `/api/auth/*`
2. **ุงูุฏูุน:** ูุณุชุฎุฏู `/api/v1/payments/*`
3. **ุฌููุน ุงูุฎุฏูุงุช:** ุชุณุชุฎุฏู `192.168.1.101:8000`

## ๐งช **ุงุฎุชุจุงุฑ ุงูุชุทุจูู**

### **1. ุชุดุบูู ุงูุชุทุจูู:**
```bash
flutter run
```

### **2. ูุฑุงูุจุฉ Console:**
ูุฌุจ ุฃู ุชุฑู:
```
API Base URL: http://192.168.1.101:8000/api/v1
AuthService: Using base URL: http://192.168.1.101:8000/api
```

### **3. ุงุฎุชุจุงุฑ ุงูุชุจุฑุน:**
- ุงุถุบุท ุนูู "ุชุจุฑุน ุงูุขู"
- ูุฌุจ ุฃู ุชูุชุญ ุตูุญุฉ ุงูุฏูุน ุจุฏูุงู ูู ุฑุณุงูุฉ ุงูุฎุทุฃ
- ูุฌุจ ุฃู ุชุนูู ุนูููุฉ ุงูุฏูุน ุจุดูู ุตุญูุญ

## ๐ **ููุงุญุธุงุช ูููุฉ**

1. **ุงููุตุงุฏูุฉ:** ุชุณุชุฎุฏู `/api/` (ุจุฏูู v1)
2. **ุงูุฏูุน:** ูุณุชุฎุฏู `/api/v1/` (ูุน v1)
3. **ุงูุฎุงุฏู:** ูุนูู ุนูู `192.168.1.101:8000`
4. **ุฌููุน endpoints:** ูุชุงุญุฉ ูุชุนูู ุจุดูู ุตุญูุญ

---

**ุงูุชุงุฑูุฎ:** $(date)
**ุงูุญุงูุฉ:** โ ุชู ุงูุฅุตูุงุญ
**ุงููุชูุฌุฉ:** ุงูุชุทุจูู ุฌุงูุฒ ููุงุฎุชุจุงุฑ
